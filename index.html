<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VIP SIGNALS - Trading Profesional</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- CAMBIO STRIPE: Añadir el script de Stripe -->
    <script src="https://js.stripe.com/v3/"></script>
    <style>
        :root {
            --primary-color: #1a73e8;
            --secondary-color: #34a853;
            --accent-color: #fbbc04;
            --danger-color: #ea4335;
            --dark-bg: #0d1117;
            --card-bg: #161b22;
            --text-primary: #ffffff;
            --text-secondary: #8b949e;
            --border-color: #30363d;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: var(--dark-bg);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* Barra de navegación */
        header {
            background-color: var(--card-bg);
            border-bottom: 1px solid var(--border-color);
            position: sticky;
            top: 0;
            z-index: 1000;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1rem 5%;
            max-width: 1400px;
            margin: 0 auto;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .logo {
            width: 50px;
            height: 50px;
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.5rem;
            color: white;
        }

        .brand-name {
            font-size: 1.5rem;
            font-weight: bold;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2rem;
        }

        .nav-links a {
            color: var(--text-primary);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
            position: relative;
        }

        .nav-links a:hover {
            color: var(--primary-color);
        }

        .nav-links a::after {
            content: '';
            position: absolute;
            bottom: -5px;
            left: 0;
            width: 0;
            height: 2px;
            background-color: var(--primary-color);
            transition: width 0.3s;
        }

        .nav-links a:hover::after,
        .nav-links a.active::after {
            width: 100%;
        }

        /* Contenedor principal */
        main {
            max-width: 1200px;
            margin: 2rem auto;
            padding: 0 5%;
            min-height: calc(100vh - 200px);
        }

        .section {
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .section.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        /* Sección Inicio */
        .hero {
            background: linear-gradient(135deg, rgba(26, 115, 232, 0.1), rgba(52, 168, 83, 0.1));
            border-radius: 10px;
            padding: 3rem;
            margin-bottom: 2rem;
            border: 1px solid var(--border-color);
            text-align: center;
        }

        .hero h1 {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .hero p {
            font-size: 1.2rem;
            color: var(--text-secondary);
            max-width: 800px;
            margin: 0 auto 2rem;
        }

        .cta-button {
            display: inline-block;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 12px 30px;
            border-radius: 50px;
            text-decoration: none;
            font-weight: bold;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .cta-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 20px rgba(26, 115, 232, 0.3);
        }

        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 3rem;
        }

        .feature-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .feature-card h3 {
            margin-bottom: 1rem;
            color: var(--text-primary);
        }

        .feature-card p {
            color: var(--text-secondary);
        }

        /* Sección Redes */
        .social-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 2rem;
        }

        .social-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .social-header h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .social-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            width: 100%;
        }

        .social-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            text-align: center;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .social-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .social-icon {
            font-size: 3rem;
            margin-bottom: 1rem;
        }

        .social-card a {
            display: inline-block;
            margin-top: 1rem;
            color: var(--primary-color);
            text-decoration: none;
            font-weight: 500;
            transition: color 0.3s;
        }

        .social-card a:hover {
            color: var(--secondary-color);
        }

        /* Sección Pagos */
        .payment-container {
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .payment-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .payment-header h2 {
            font-size: 2rem;
            margin-bottom: 1rem;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
        }

        .payment-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
        }

        .payment-card {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .payment-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }

        .payment-icon {
            font-size: 2.5rem;
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .payment-form {
            margin-top: 1.5rem;
        }

        .form-group {
            margin-bottom: 1rem;
        }

        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
            color: var(--text-secondary);
        }

        .form-group input, .form-group select {
            width: 100%;
            padding: 12px;
            background-color: var(--dark-bg);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .form-group input:focus, .form-group select:focus {
            outline: none;
            border-color: var(--primary-color);
        }

        .payment-button {
            width: 100%;
            padding: 12px;
            background: linear-gradient(90deg, var(--primary-color), var(--secondary-color));
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .payment-button:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(26, 115, 232, 0.3);
        }
        
        .payment-button:disabled {
            opacity: 0.6;
            cursor: not-allowed;
        }

        .telegram-section {
            background-color: var(--card-bg);
            border-radius: 10px;
            padding: 2rem;
            border: 1px solid var(--border-color);
            margin-top: 2rem;
            display: none;
            animation: fadeIn 0.5s ease-in-out;
        }

        .telegram-section.active {
            display: block;
        }

        .telegram-link {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-top: 1rem;
        }

        .telegram-link input {
            flex: 1;
            padding: 12px;
            background-color: var(--dark-bg);
            border: 1px solid var(--border-color);
            border-radius: 5px;
            color: var(--text-primary);
            font-size: 1rem;
        }

        .telegram-link button {
            padding: 12px 20px;
            background-color: var(--secondary-color);
            color: white;
            border: none;
            border-radius: 5px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        .telegram-link button:hover {
            background-color: #2d8f47;
        }

        /* Footer */
        footer {
            background-color: var(--card-bg);
            border-top: 1px solid var(--border-color);
            padding: 2rem 5%;
            margin-top: 4rem;
        }

        .footer-content {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            gap: 2rem;
        }

        .footer-section h3 {
            margin-bottom: 1rem;
            color: var(--primary-color);
        }

        .footer-section ul {
            list-style: none;
        }

        .footer-section ul li {
            margin-bottom: 0.5rem;
        }

        .footer-section a {
            color: var(--text-secondary);
            text-decoration: none;
            transition: color 0.3s;
        }

        .footer-section a:hover {
            color: var(--primary-color);
        }

        .footer-bottom {
            text-align: center;
            margin-top: 2rem;
            padding-top: 1rem;
            border-top: 1px solid var(--border-color);
            color: var(--text-secondary);
        }

        /* Notificación */
        .notification {
            position: fixed;
            top: 100px;
            right: 20px;
            background-color: var(--card-bg);
            border: 1px solid var(--border-color);
            border-left: 4px solid var(--secondary-color);
            padding: 15px 20px;
            border-radius: 5px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            transform: translateX(400px);
            transition: transform 0.3s ease-in-out;
            z-index: 1000;
        }

        .notification.show {
            transform: translateX(0);
        }
        
        .notification.error {
            border-left-color: var(--danger-color);
        }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links {
                gap: 1rem;
            }

            .hero h1 {
                font-size: 2rem;
            }

            .features, .social-grid, .payment-options {
                grid-template-columns: 1fr;
            }

            .footer-content {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <header>
        <nav>
            <div class="logo-container">
                <div class="logo">VS</div>
                <div class="brand-name">VIP SIGNALS</div>
            </div>
            <ul class="nav-links">
                <li><a href="#" class="nav-link active" data-section="inicio">Inicio</a></li>
                <li><a href="#" class="nav-link" data-section="redes">Redes</a></li>
                <li><a href="#" class="nav-link" data-section="pagos">Pagos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <!-- Sección Inicio -->
        <section id="inicio" class="section active">
            <div class="hero">
                <h1>Señales de Trading VIP</h1>
                <p>Obtén acceso exclusivo a nuestras señales de trading profesionales con una tasa de éxito del 85%. Maximiza tus ganancias en el mercado de criptomonedas con análisis experto y estrategias probadas.</p>
                <a href="#pagos" class="cta-button">Obtener Acceso VIP</a>
            </div>

            <div class="features">
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-chart-line"></i></div>
                    <h3>Señales Precisas</h3>
                    <p>Nuestro equipo de analistas expertos proporciona señales con una precisión del 85%, basadas en análisis técnico y fundamental profundo.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-clock"></i></div>
                    <h3>Alertas en Tiempo Real</h3>
                    <p>Recibe notificaciones instantáneas cuando se identifiquen oportunidades de trading rentables. Nunca te pierdas una buena entrada.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-users"></i></div>
                    <h3>Comunidad Exclusiva</h3>
                    <p>Únete a nuestra comunidad de traders VIP donde compartimos estrategias, análisis y soporte directo de nuestros expertos.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-shield-alt"></i></div>
                    <h3>Gestión de Riesgos</h3>
                    <p>Todas nuestras señales incluyen niveles de stop loss y take profit claros para proteger tu capital y maximizar ganancias.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-mobile-alt"></i></div>
                    <h3>Acceso Móvil</h3>
                    <p>Recibe nuestras señales directamente en tu dispositivo móvil a través de Telegram y opera desde cualquier lugar.</p>
                </div>
                <div class="feature-card">
                    <div class="feature-icon"><i class="fas fa-trophy"></i></div>
                    <h3>Resultados Verificados</h3>
                    <p>Transparencia total con todos nuestros resultados verificados. Mostramos tanto las ganancias como las pérdidas para construir confianza.</p>
                </div>
            </div>
        </section>

        <!-- Sección Redes -->
        <section id="redes" class="section">
            <div class="social-container">
                <div class="social-header">
                    <h2>Síguenos en Nuestras Redes Sociales</h2>
                    <p>Mantente actualizado con las últimas noticias del mercado y análisis exclusivos</p>
                </div>

                <div class="social-grid">
                    <div class="social-card">
                        <div class="social-icon" style="color: #0088cc;"><i class="fab fa-telegram"></i></div>
                        <h3>Telegram</h3>
                        <p>Únete a nuestro canal principal para recibir señales gratuitas diarias y análisis de mercado.</p>
                        <a href="#">@VIPSignalsFree</a>
                    </div>
                    <div class="social-card">
                        <div class="social-icon" style="color: #1DA1F2;"><i class="fab fa-twitter"></i></div>
                        <h3>Twitter</h3>
                        <p>Síguenos para obtener actualizaciones rápidas del mercado y noticias importantes del sector cripto.</p>
                        <a href="#">@VIPSignals</a>
                    </div>
                    <div class="social-card">
                        <div class="social-icon" style="color: #E1306C;"><i class="fab fa-instagram"></i></div>
                        <h3>Instagram</h3>
                        <p>Contenido visual sobre trading, educación y testimonios de nuestros miembros VIP.</p>
                        <a href="#">@VIPSignalsTrading</a>
                    </div>
                    <div class="social-card">
                        <div class="social-icon" style="color: #FF0000;"><i class="fab fa-youtube"></i></div>
                        <h3>YouTube</h3>
                        <p>Tutoriales completos, análisis de mercado y estrategias de trading explicadas paso a paso.</p>
                        <a href="#">VIP Signals Trading</a>
                    </div>
                    <div class="social-card">
                        <div class="social-icon" style="color: #7289DA;"><i class="fab fa-discord"></i></div>
                        <h3>Discord</h3>
                        <p>Comunidad activa donde puedes discutir estrategias con otros traders y nuestro equipo de expertos.</p>
                        <a href="#">Servidor VIP Signals</a>
                    </div>
                    <div class="social-card">
                        <div class="social-icon" style="color: #0E76A8;"><i class="fab fa-linkedin"></i></div>
                        <h3>LinkedIn</h3>
                        <p>Análisis profesional del mercado y artículos sobre tendencias en el mundo de las criptomonedas.</p>
                        <a href="#">VIP Signals Trading</a>
                    </div>
                </div>
            </div>
        </section>

       <!-- Sección Pagos -->
        <section id="pagos" class="section">
            <div class="payment-container">
                <div class="payment-header">
                    <h2>Elige tu Plan VIP</h2>
                    <p>Desbloquea acceso completo a todas nuestras señales y herramientas exclusivas</p>
                </div>

                <div class="payment-options">
                    <!-- CAMBIO STRIPE: Tarjeta de pago con Stripe -->
                    <div class="payment-card">
                        <div class="payment-icon"><i class="fab fa-stripe-s"></i></div>
                        <h3>Pago con Tarjeta (Stripe)</h3>
                        <p>Paga de forma segura con tu tarjeta de débito o crédito a través de Stripe, una plataforma de pago líder mundial.</p>

                        <div class="payment-form">
                            <div class="form-group">
                                <label for="plan-select-stripe">Selecciona un plan</label>
                                <!-- CAMBIO STRIPE: Los 'value' deben ser los IDs de precios de Stripe -->
                                <select id="plan-select-stripe">
                                    <option value="price_1T5IxeRvcXwFOa1Ft5skQeBj">Mensual - 30.00 USD</option>
                                    <option value="price_1T5J2oRvcXwFOa1FwNnyl6zh">Anual - $399.99 USD (Ahorra 33%)</option>
                                </select>
                            </div>
                            <!-- CAMBIO STRIPE: El botón ahora inicia el Checkout de Stripe -->
                            <button class="payment-button" id="stripe-payment-btn">Pagar con Stripe</button>
                        </div>
                    </div>

                    <!-- CAMBIO BINANCE: Tarjeta de pago con Binance -->
                    <div class="payment-card">
                        <div class="payment-icon"><i class="fab fa-bitcoin"></i></div>
                        <h3>Pago con Binance</h3>
                        <p>Paga usando criptomonedas a través de Binance Pay. Aceptamos BTC, ETH, BNB y muchas más.</p>

                        <div class="payment-form">
                            <div class="form-group">
                                <label for="plan-select-binance">Selecciona un plan</label>
                                <!-- CAMBIO BINANCE: Los 'value' son para identificar el plan en el backend -->
                                <select id="plan-select-binance">
                                    <option value="monthly">Mensual - ~0.0012 BTC</option>
                                    <option value="yearly">Anual - ~0.0098 BTC (Ahorra 33%)</option>
                                </select>
                            </div>

<!-- CAMBIO BINANCE: El botón ahora llama a tu backend -->
                            <button class="payment-button" id="binance-payment-btn">Pagar con Binance</button>
                        </div>
                    </div>
                </div>

                <div class="telegram-section" id="telegram-section">
                    <h3><i class="fab fa-telegram"></i> ¡Acceso a Telegram VIP Desbloqueado!</h3>
                    <p>Gracias por tu pago. Ahora tienes acceso completo a nuestro canal VIP en Telegram donde recibirás señales exclusivas.</p>

                    <div class="telegram-link">
                        <input type="text" id="telegram-link" value="https://t.me/VIPSignalsExclusive" readonly>
                        <button id="copy-telegram-btn">Copiar Enlace</button>
                    </div>

                    <p style="margin-top: 1rem; color: var(--text-secondary);">Este enlace es personal y no debe ser compartido. Tu acceso es válido según el plan que has seleccionado.</p>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>VIP SIGNALS</h3>
                <p>Señales de trading profesionales para maximizar tus ganancias en el mercado de criptomonedas.</p>
            </div>

            <div class="footer-section">
                <h3>Enlaces Rápidos</h3>
                <ul>
                    <li><a href="#inicio">Inicio</a></li>
                    <li><a href="#redes">Redes Sociales</a></li>
                    <li><a href="#pagos">Planes VIP</a></li>
                    <li><a href="#">Términos y Condiciones</a></li>
                    <li><a href="#">Política de Privacidad</a></li>
                </ul>
            </div>

            <div class="footer-section">
                <h3>Contacto</h3>
                <ul>
                    <li><i class="fas fa-envelope"></i> support@vipsignals.com</li>
                    <li><i class="fab fa-telegram"></i> @VIPSignalsSupport</li>
                    <li><i class="fas fa-clock"></i> Soporte 24/7</li>
                </ul>
            </div>
        </div>

<div class="footer-bottom">
            <p>&copy; 2023 VIP SIGNALS. Todos los derechos reservados. | Trading de criptomonedas conlleva riesgos. Opera con responsabilidad.</p>
        </div>
    </footer>

    <div class="notification" id="notification">
        <p id="notification-text">¡Pago procesado con éxito!</p>
    </div>

<script>

    <script>
       document.addEventListener('DOMContentLoaded', function() {
    // --- Navegación y UI General (sin cambios) ---
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('.section');

    navLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            navLinks.forEach(l => l.classList.remove('active'));
            sections.forEach(s => s.classList.remove('active'));
            this.classList.add('active');
            const sectionId = this.getAttribute('data-section');
            document.getElementById(sectionId).classList.add('active');
        });
    });

    function showNotification(message, isError = false) {
        const notification = document.getElementById('notification');
        const notificationText = document.getElementById('notification-text');
        notificationText.textContent = message;
        notification.classList.toggle('error', isError);
        notification.classList.add('show');
        setTimeout(() => notification.classList.remove('show'), 4000);
    }

    document.getElementById('copy-telegram-btn').addEventListener('click', function() {
        const telegramLink = document.getElementById('telegram-link');
        telegramLink.select();
        document.execCommand('copy');
        showNotification('¡Enlace de Telegram copiado!');
    });
    
    // --- INICIO DEL BLOQUE DE PAGO STRIPE DEPURADO ---
    console.log("1. El script se ha cargado.");

    // CAMBIO STRIPE: Reemplaza con tu clave publicable de Stripe
    const stripePublicKey = 'pk_test_51SgaUKRvcXwFOa1FKVVmuIETFobtiveBLD07ZDvUMnsvVBeHNiANDedJDj8tYZWwgKZuSS3gVgPpsXdZn5o7xvoE00uWojT6TZ'; 
    console.log("2. Clave pública definida:", stripePublicKey.substring(0, 10) + "...");

    let stripe;
    try {
        stripe = Stripe(stripePublicKey);
        console.log("3. Objeto de Stripe inicializado correctamente.");
    } catch (e) {
        console.error("ERROR CRÍTICO: No se pudo inicializar Stripe. ¿La librería de Stripe está cargada?", e);
        showNotification("Error de configuración de pago. Contacta al soporte.", true);
        return; // Detenemos todo si Stripe no funciona
    }

    const stripeButton = document.getElementById('stripe-payment-btn');
    console.log("4. Botón de Stripe encontrado:", stripeButton);

    if (!stripeButton) {
        console.error("ERROR CRÍTICO: No se encontró el botón con el ID 'stripe-payment-btn'.");
        return;
    }
    
    stripeButton.addEventListener('click', async function() {
        console.log("5. Botón de Stripe presionado.");
        this.disabled = true;
        this.textContent = 'Procesando...';

        const planSelect = document.getElementById('plan-select-stripe');
        if (!planSelect) {
            console.error("ERROR: No se encontró el select del plan.");
            showNotification("Error en el formulario. Intenta recargar la página.", true);
            this.disabled = false;
            this.textContent = 'Pagar con Stripe';
            return;
        }

        const priceId = planSelect.value;
        console.log("6. ID de Precio seleccionado:", priceId);

        if (!priceId || !priceId.startsWith('price_')) {
            console.error("ERROR: El ID de precio no es válido.", priceId);
            showNotification("Por favor, selecciona un plan válido.", true);
            this.disabled = false;
            this.textContent = 'Pagar con Stripe';
            return;
        }

        try {
            console.log("7. Intentando redirigir al Checkout de Stripe...");
            const { error } = await stripe.redirectToCheckout({
                lineItems: [{ price: priceId, quantity: 1 }],
                mode: 'subscription',
                successUrl: `${window.location.origin}/#pagos?success=true`,
                cancelUrl: `${window.location.origin}/#pagos?cancelled=true`,
            });

            if (error) {
                console.error("8. Error devuelto por Stripe:", error);
                showNotification(error.message, true);
                this.textContent = 'Pagar con Stripe';
                this.disabled = false;
            }
        } catch (e) {
            console.error("9. ERROR INESPERADO en el frontend:", e);
            showNotification('No se pudo conectar con el procesador de pagos.', true);
            this.textContent = 'Pagar con Stripe';
            this.disabled = false;
        }
    });
    // --- FIN DEL BLOQUE DE PAGO STRIPE ---

    // --- Lógica de Pago con Binance (sin cambios) ---
    const binanceButton = document.getElementById('binance-payment-btn');
    binanceButton.addEventListener('click', async function() {
        this.disabled = true;
        this.textContent = 'Procesando...';
        const plan = document.getElementById('plan-select-binance').value;
        try {
            const response = await fetch('https://tu-backend.com/create-binance-order', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ plan: plan })
            });
            const orderData = await response.json();
            if (orderData.checkoutUrl) {
                window.location.href = orderData.checkoutUrl;
            } else {
                throw new Error(orderData.error || 'No se pudo generar la URL de pago.');
            }
        } catch (e) {
            showNotification('Error al conectar con Binance. Inténtalo de nuevo.', true);
            this.textContent = 'Pagar con Binance';
            this.disabled = false;
            console.error(e);
        }
    });

    const urlParams = new URLSearchParams(window.location.search);
    if (urlParams.get('success') === 'true') {
        showNotification('¡Pago exitoso! Bienvenido a VIP.');
        document.getElementById('telegram-section').classList.add('active');
    }
    if (urlParams.get('cancelled') === 'true') {
        showNotification('El pago fue cancelado. Puedes intentarlo de nuevo cuando quieras.', true);
    }
});
</script>

</body>
</html>       