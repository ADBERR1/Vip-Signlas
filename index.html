<!DOCTYPE html>
<html>
<head>
    <title>Prueba de Pago Stripe</title>
    <script src="https://js.stripe.com/v3/"></script>
</head>
<body>

    <h1>Prueba de Pago</h1>
    <button id="checkout-button">Pagar 10€</button>

    <script>
        // 1. Pega tu CLAVE PUBLICABLE de prueba aquí (empieza con pk_test_)
        const stripe = Stripe('pk_test_XXXXXXXXXXXXXXXXXXXXXXXX'); 

        const checkoutButton = document.getElementById('checkout-button');

        checkoutButton.addEventListener('click', async () => {
            // 2. Pega tu ID de PRECIO de prueba aquí (empieza con price_)
            const priceId = 'price_1PXXXXXXXXXXXXXXXXXXXXXXX'; 

            try {
                const { error } = await stripe.redirectToCheckout({
                    lineItems: [{
                        price: priceId, // El ID del precio va DENTRO de lineItems
                        quantity: 1,
                    }],
                    mode: 'payment', // 'payment' para un solo pago, 'subscription' para suscripciones
                    
                    // 3. IMPORTANTE: Usa URLs COMPLETAS y válidas
                    successUrl: 'https://tu-sitio-web.com/exito.html', // <-- CAMBIA ESTO
                    cancelUrl: 'https://tu-sitio-web.com/cancelado.html', // <-- CAMBIA ESTO
                });

                if (error) {
                    console.error("Error de Stripe:", error.message);
                }

            } catch (e) {
                console.error("Error inesperado:", e);
            }
        });
    </script>

</body>
</html>